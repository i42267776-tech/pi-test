<!DOCTYPE html>
<html>
<head>
    <script src="https://sdk.minepi.com/pi-sdk.js"></script>
    <title>Pi Payment Test</title>
</head>
<body style="text-align: center; padding-top: 50px; font-family: sans-serif;">
    <h1>파이 앱 결제 테스트</h1>
    <p>아래 버튼을 눌러 테스트 결제를 진행하세요.</p>
    <button id="pay-btn" style="padding: 20px 40px; font-size: 20px; background-color: #673ab7; color: white; border: none; border-radius: 10px;">
        0.1 Pi 결제하기
    </button>

    <script>
        const Pi = window.Pi;
        Pi.init({ version: "1.5", sandbox: true });

        document.getElementById('pay-btn').onclick = () => {
            Pi.createPayment({
                amount: 0.1,
                memo: "테스트 결제입니다",
                metadata: { itemId: "test-1" }
            }, {
                onReadyForServerApproval: (id) => console.log("Approval:", id),
                onReadyForServerCompletion: (id, tx) => alert("결제 완료! 성공했습니다."),
                onCancel: (id) => alert("결제가 취소되었습니다."),
                onError: (e) => alert("에러 발생: " + e.message)
            });
        };
    </script>
</body>
</html>
